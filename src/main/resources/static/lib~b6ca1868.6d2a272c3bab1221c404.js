(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{z4wI:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var i=n("207e"),s=n("FtGj"),o=n("fXoL"),u=n("3Pt+"),r=n("/KA4"),a=n("ofXK"),h=n("FwiY"),l=n("u47x");const c=["inputElement"];let d=(()=>{class e{constructor(e,t,n){this.elementRef=e,this.cdr=t,this.focusMonitor=n,this.isFocused=!1,this.disabledUp=!1,this.disabledDown=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new o.n,this.nzFocus=new o.n,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=e=>e.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzFormatter=e=>e}onModelChange(e){this.parsedValue=this.nzParser(e),this.inputElement.nativeElement.value=""+this.parsedValue;const t=this.getCurrentValidValue(this.parsedValue);this.setValue(t)}getCurrentValidValue(e){let t=e;return t=""===t?"":this.isNotCompleteNumber(t)?this.value:""+this.getValidValue(t),this.toNumber(t)}isNotCompleteNumber(e){return isNaN(e)||""===e||null===e||!(!e||e.toString().indexOf(".")!==e.toString().length-1)}getValidValue(e){let t=parseFloat(e);return isNaN(t)?e:(t<this.nzMin&&(t=this.nzMin),t>this.nzMax&&(t=this.nzMax),t)}toNumber(e){if(this.isNotCompleteNumber(e))return e;const t=String(e);if(t.indexOf(".")>=0&&Object(r.f)(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(e,this.nzPrecision);if("cut"===this.nzPrecisionMode){const e=t.split(".");return e[1]=e[1].slice(0,this.nzPrecision),Number(e.join("."))}return Number(Number(e).toFixed(this.nzPrecision))}return Number(e)}getRatio(e){let t=1;return e.metaKey||e.ctrlKey?t=.1:e.shiftKey&&(t=10),t}down(e,t){this.isFocused||this.focus(),this.step("down",e,t)}up(e,t){this.isFocused||this.focus(),this.step("up",e,t)}getPrecision(e){const t=e.toString();if(t.indexOf("e-")>=0)return parseInt(t.slice(t.indexOf("e-")+2),10);let n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}getMaxPrecision(e,t){if(Object(r.f)(this.nzPrecision))return this.nzPrecision;const n=this.getPrecision(t),i=this.getPrecision(this.nzStep),s=this.getPrecision(e);return e?Math.max(s,n+i):n+i}getPrecisionFactor(e,t){const n=this.getMaxPrecision(e,t);return Math.pow(10,n)}upStep(e,t){const n=this.getPrecisionFactor(e,t),i=Math.abs(this.getMaxPrecision(e,t));let s;return s="number"==typeof e?((n*e+n*this.nzStep*t)/n).toFixed(i):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(s)}downStep(e,t){const n=this.getPrecisionFactor(e,t),i=Math.abs(this.getMaxPrecision(e,t));let s;return s="number"==typeof e?((n*e-n*this.nzStep*t)/n).toFixed(i):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(s)}step(e,t,n=1){if(this.stop(),t.preventDefault(),this.nzDisabled)return;const i=this.getCurrentValidValue(this.parsedValue)||0;let s=0;"up"===e?s=this.upStep(i,n):"down"===e&&(s=this.downStep(i,n));const o=s>this.nzMax||s<this.nzMin;s>this.nzMax?s=this.nzMax:s<this.nzMin&&(s=this.nzMin),this.setValue(s),this.updateDisplayValue(s),this.isFocused=!0,o||(this.autoStepTimer=setTimeout(()=>{this[e](t,n)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(e){if(""+this.value!=""+e&&this.onChange(e),this.value=e,this.parsedValue=e,this.disabledUp=this.disabledDown=!1,e||0===e){const t=Number(e);t>=this.nzMax&&(this.disabledUp=!0),t<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(e){const t=Object(r.f)(this.nzFormatter(e))?this.nzFormatter(e):"";this.displayValue=t,this.inputElement.nativeElement.value=""+t}onKeyDown(e){if(e.keyCode===s.k){const t=this.getRatio(e);this.up(e,t),this.stop()}else if(e.keyCode===s.c){const t=this.getRatio(e);this.down(e,t),this.stop()}else e.keyCode===s.d&&this.updateDisplayValue(this.value)}writeValue(e){this.value=e,this.setValue(e),this.updateDisplayValue(e),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=e,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).subscribe(e=>{e?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))})}ngOnChanges(e){if(e.nzFormatter&&!e.nzFormatter.isFirstChange()){const e=this.getCurrentValidValue(this.parsedValue);this.setValue(e),this.updateDisplayValue(e)}}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef)}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(o.l),o.Jb(o.h),o.Jb(l.b))},e.\u0275cmp=o.Db({type:e,selectors:[["nz-input-number"]],viewQuery:function(e,t){var n;1&e&&o.nc(c,!0),2&e&&o.ic(n=o.Xb())&&(t.inputElement=n.first)},hostVars:10,hostBindings:function(e,t){2&e&&o.Bb("ant-input-number",!0)("ant-input-number-focused",t.isFocused)("ant-input-number-lg","large"===t.nzSize)("ant-input-number-sm","small"===t.nzSize)("ant-input-number-disabled",t.nzDisabled)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzFormatter:"nzFormatter",nzPrecision:"nzPrecision"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],features:[o.yb([{provide:u.g,useExisting:Object(o.T)(()=>e),multi:!0}]),o.xb],decls:8,vars:13,consts:[[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"disabled","placeholder","ngModel","keydown","keyup","ngModelChange"],["inputElement",""]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"span",1),o.Wb("mousedown",(function(e){return t.up(e)}))("mouseup",(function(){return t.stop()}))("mouseleave",(function(){return t.stop()})),o.Kb(2,"i",2),o.Nb(),o.Ob(3,"span",3),o.Wb("mousedown",(function(e){return t.down(e)}))("mouseup",(function(){return t.stop()}))("mouseleave",(function(){return t.stop()})),o.Kb(4,"i",4),o.Nb(),o.Nb(),o.Ob(5,"div",5),o.Ob(6,"input",6,7),o.Wb("keydown",(function(e){return t.onKeyDown(e)}))("keyup",(function(){return t.stop()}))("ngModelChange",(function(e){return t.onModelChange(e)})),o.Nb(),o.Nb()),2&e&&(o.zb(1),o.Bb("ant-input-number-handler-up-disabled",t.disabledUp),o.zb(2),o.Bb("ant-input-number-handler-down-disabled",t.disabledDown),o.zb(3),o.ec("disabled",t.nzDisabled)("placeholder",t.nzPlaceHolder)("ngModel",t.displayValue),o.Ab("id",t.nzId)("autofocus",t.nzAutoFocus?"autofocus":null)("min",t.nzMin)("max",t.nzMax)("step",t.nzStep)("inputmode",t.nzInputMode))},directives:[h.a,u.c,u.i,u.j],encapsulation:2,changeDetection:0}),Object(i.a)([Object(r.a)(),Object(i.b)("design:type",Object)],e.prototype,"nzDisabled",void 0),Object(i.a)([Object(r.a)(),Object(i.b)("design:type",Object)],e.prototype,"nzAutoFocus",void 0),e})(),p=(()=>{class e{}return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[a.c,u.f,h.b]]}),e})()}}]);