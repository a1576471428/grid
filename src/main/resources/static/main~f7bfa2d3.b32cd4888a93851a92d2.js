(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"21aE":function(n,t,e){"use strict";e.d(t,"a",(function(){return p})),e("Ludi");var r=e("rMZv"),b=e("ocnv"),i=e("PTRe"),c=e("z4wI"),o=e("nJia"),a=e("FwiY"),l=e("OzZK"),u=e("qAZ0"),f=e("TaO5"),s=e("5vDB"),m=e("3Pt+"),z=e("ofXK"),g=e("fXoL");let p=(()=>{class n{}return n.\u0275mod=g.Hb({type:n}),n.\u0275inj=g.Gb({factory:function(t){return new(t||n)},imports:[[r.c,b.d,i.b,c.b,o.a,a.b,m.f,l.c,u.b,z.c,f.b,s.b]]}),n})()},Ludi:function(n,t,e){"use strict";e.d(t,"a",(function(){return W}));var r=e("EUZL"),b=e("fXoL"),i=e("krAy"),c=e("B+r4"),o=e("ocnv"),a=e("PTRe"),l=e("z4wI"),u=e("5vDB"),f=e("TaO5"),s=e("OzZK"),m=e("rMZv"),z=e("nJia"),g=e("FwiY"),p=e("qAZ0"),O=e("3Pt+"),h=e("ofXK"),d=e("RwU8"),N=e("C2AL");const P=["basicTable"];function M(n,t){if(1&n){const n=b.Pb();b.Ob(0,"nz-form-item"),b.Ob(1,"nz-form-label",1),b.rc(2,"\u5229\u6da6\u5954\u8dd1\u5c01\u9876\u4ef7\u683c"),b.Nb(),b.Ob(3,"nz-form-control",2),b.Ob(4,"nz-input-number",4),b.Wb("ngModelChange",(function(t){return b.kc(n),b.Zb().maxProfitRunPrice=t})),b.Nb(),b.Nb(),b.Nb()}if(2&n){const n=b.Zb();b.zb(4),b.ec("ngModel",n.maxProfitRunPrice)}}function x(n,t){if(1&n){const n=b.Pb();b.Ob(0,"nz-form-item"),b.Ob(1,"nz-form-label",1),b.rc(2," \u5229\u6da6\u5954\u8dd1\u5c01\u9876\u6da8\u5e45\uff08\u767e\u5206\u6bd4\uff09 "),b.Ob(3,"span",18),b.Kb(4,"i",16),b.Nb(),b.Nb(),b.Ob(5,"nz-form-control",2),b.Ob(6,"nz-input-number",5),b.Wb("ngModelChange",(function(t){return b.kc(n),b.Zb().maxProfitRunPercent=t})),b.Nb(),b.Nb(),b.Nb()}if(2&n){const n=b.Zb();b.zb(6),b.ec("nzFormatter",n.formatterPercent)("nzParser",n.parserPercent)("ngModel",n.maxProfitRunPercent)}}function R(n,t){if(1&n){const n=b.Pb();b.Ob(0,"nz-form-item"),b.Ob(1,"nz-form-label",1),b.rc(2," \u7559\u5b58\u5229\u6da6\u4efd\u6570 "),b.Ob(3,"span",19),b.Kb(4,"i",16),b.Nb(),b.Nb(),b.Ob(5,"nz-form-control",2),b.Ob(6,"nz-input-number",20),b.Wb("ngModelChange",(function(t){return b.kc(n),b.Zb().leftProfitMul=t})),b.Nb(),b.Nb(),b.Nb()}if(2&n){const n=b.Zb();b.zb(6),b.ec("ngModel",n.leftProfitMul)("nzMin",1)}}function C(n,t){1&n&&b.Kb(0,"nz-spin",21)}function w(n,t){1&n&&(b.Ob(0,"th"),b.rc(1,"\u672c\u671f\u7559\u5b58\u6570\u91cf"),b.Nb())}function y(n,t){1&n&&(b.Ob(0,"th"),b.rc(1,"\u7559\u5b58\u5356\u51fa\u4ef7\u683c"),b.Nb())}function S(n,t){1&n&&(b.Ob(0,"th"),b.rc(1,"\u672c\u671f\u7559\u5b58\u5229\u6da6"),b.Nb())}function v(n,t){if(1&n&&(b.Ob(0,"td"),b.rc(1),b.ac(2,"number"),b.Nb()),2&n){const n=b.Zb().$implicit;b.zb(1),b.sc(b.bc(2,1,n.leftNum))}}function I(n,t){if(1&n&&(b.Ob(0,"td"),b.rc(1),b.ac(2,"number"),b.Nb()),2&n){const n=b.Zb().$implicit;b.zb(1),b.sc(b.bc(2,1,n.leftProfitSellPrice))}}function T(n,t){if(1&n&&(b.Ob(0,"td"),b.rc(1),b.ac(2,"number"),b.Nb()),2&n){const n=b.Zb().$implicit;b.zb(1),b.sc(b.bc(2,1,n.leftProfitSum))}}function Z(n,t){if(1&n&&(b.Ob(0,"tr"),b.Ob(1,"td"),b.rc(2),b.Nb(),b.Ob(3,"td"),b.rc(4),b.ac(5,"number"),b.Nb(),b.Ob(6,"td"),b.rc(7),b.ac(8,"number"),b.Nb(),b.Ob(9,"td"),b.rc(10),b.ac(11,"number"),b.Nb(),b.Ob(12,"td"),b.rc(13),b.ac(14,"number"),b.Nb(),b.Ob(15,"td"),b.rc(16),b.ac(17,"number"),b.Nb(),b.Ob(18,"td"),b.rc(19),b.ac(20,"number"),b.Nb(),b.pc(21,v,3,3,"td",9),b.pc(22,I,3,3,"td",9),b.pc(23,T,3,3,"td",9),b.Ob(24,"td"),b.rc(25),b.ac(26,"number"),b.Nb(),b.Ob(27,"td"),b.rc(28),b.ac(29,"number"),b.Nb(),b.Nb()),2&n){const n=t.$implicit,e=b.Zb();b.zb(2),b.sc(n.level),b.zb(2),b.sc(b.bc(5,12,n.buyPrice)),b.zb(3),b.sc(b.bc(8,14,n.buyNum)),b.zb(3),b.sc(b.bc(11,16,n.buyPriceSum)),b.zb(3),b.sc(b.bc(14,18,n.sellPrice)),b.zb(3),b.sc(b.bc(17,20,n.sellNum)),b.zb(3),b.sc(b.bc(20,22,n.sellPriceSum)),b.zb(2),b.ec("ngIf",e.profitRun),b.zb(1),b.ec("ngIf",e.profitRun),b.zb(1),b.ec("ngIf",e.profitRun),b.zb(2),b.sc(b.bc(26,24,n.profit)),b.zb(3),b.sc(b.bc(29,26,n.profitPercentage))}}const k=function(){return[50,100,200]},G=function(){return{y:"600px"}};let W=(()=>{class n{constructor(n){this.gridService=n,this.formatterPercent=n=>n+" %",this.parserPercent=n=>n.replace(" %",""),this.name="\u534e\u5b9d\u6cb9\u6c14",this.currentPrice=.455,this.maxProfitRunPrice=.7,this.maxProfitRunPercent=40,this.maxGridPrice=.6,this.perGrid=5,this.maxLoss=40,this.buyNum=1e4,this.leftProfitMul=1,this.loading=!1,this.profitRun=!1,this.weightMore=!1,this.allInOneGo=!1,this.tableData=[]}ngOnInit(){}calc(){this.loading=!0;const n=this.gridService.genGrids({currentPrice:this.currentPrice,maxGridPrice:this.maxGridPrice,perGrid:this.perGrid,maxLoss:this.maxLoss,buyNum:this.buyNum,profitRun:this.profitRun,weightMore:this.weightMore,allInOneGo:this.allInOneGo,maxProfitRunPercent:this.maxProfitRunPercent,maxProfitRunPrice:this.maxProfitRunPrice,leftProfitMul:this.leftProfitMul});this.tableData=n,this.loading=!1}exportToExcel(){const n=this.getExcelRowData(),t=r.utils.json_to_sheet(n);Object.keys(t).forEach(n=>{/^[A-Z]+1$|^!.*$/.test(n)||(t[n].z="0.00")});const e={width:20},b=[];for(let r=0;r<Object.keys(n[0]).length;r++)b.push(e);t["!cols"]=b;const i=r.utils.book_new();r.utils.book_append_sheet(i,t,this.name),r.writeFile(i,this.name+".xlsx")}getExcelRowData(){return this.tableData.map(n=>{const t={};return t["\u4e0e\u57fa\u51c6\u6bd4\u8f83"]=n.level,t["\u4e70\u5165\u4ef7\u683c"]=n.buyPrice,t["\u4e70\u5165\u6570\u91cf"]=n.buyNum,t["\u4e70\u5165\u4ef7\u683c\u5408\u8ba1"]=n.buyPriceSum,t["\u5356\u51fa\u4ef7\u683c"]=n.sellPrice,t["\u5356\u51fa\u6570\u91cf"]=n.sellNum,t["\u5356\u51fa\u4ef7\u683c\u5408\u8ba1"]=n.sellPriceSum,this.profitRun&&(t["\u672c\u671f\u7559\u5b58\u6570\u91cf"]=n.leftNum,t["\u7559\u5b58\u5356\u51fa\u4ef7\u683c"]=n.leftProfitSellPrice,t["\u672c\u671f\u7559\u5b58\u5229\u6da6"]=n.leftProfitSum),t["\u76c8\u5229"]=n.profit,t["\u76c8\u5229\u767e\u5206\u6bd4"]=n.profitPercentage,t})}}return n.\u0275fac=function(t){return new(t||n)(b.Jb(i.a))},n.\u0275cmp=b.Db({type:n,selectors:[["grid"]],viewQuery:function(n,t){var e;1&n&&b.vc(P,!0),2&n&&b.ic(e=b.Xb())&&(t.basicTable=e.first)},decls:77,vars:28,consts:[[1,"form"],["nzSpan","8"],["nzSpan","4"],["nz-input","","name","name",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"nzFormatter","nzParser","ngModel","ngModelChange"],["nzText","\u7f51\u683c2.0\u5bf9\u5e94\u5f00\u5173",1,"divider"],[1,"checkbox"],["nz-checkbox","",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"buttons"],["nz-button","","nzType","primary",1,"button",3,"click"],["class","spin","nzSimple","",4,"ngIf"],[1,"table",3,"nzData","nzShowSizeChanger","nzPageSize","nzPageSizeOptions","nzScroll"],["basicTable",""],["nz-tooltip","","nzTooltipTitle","\u8be5\u767e\u5206\u6bd4\u662f\u76f8\u5bf9\u672c\u671f\u4e70\u5165\u4ef7\u683c\u6765\u8bf4\u7684",1,"tips"],["nz-icon","","nzType","info-circle","nzTheme","outline"],[4,"ngFor","ngForOf"],["nz-tooltip","","nzTooltipTitle","\u4ef7\u683c\u548c\u6da8\u5e45\u6709\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u5219\u505c\u6b62",1,"tips"],["nz-tooltip","","nzTooltipTitle","\u7559\u5b58\u591a\u4efd\u5229\u6da6\u65f6\u586b\u5199\uff0c\u4e0d\u5199\u9ed8\u8ba4\u4e3a1",1,"tips"],[3,"ngModel","nzMin","ngModelChange"],["nzSimple","",1,"spin"]],template:function(n,t){if(1&n&&(b.Ob(0,"div",0),b.Ob(1,"nz-form-item"),b.Ob(2,"nz-form-label",1),b.rc(3,"\u54c1\u79cd\u540d\u79f0"),b.Nb(),b.Ob(4,"nz-form-control",2),b.Ob(5,"input",3),b.Wb("ngModelChange",(function(n){return t.name=n})),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"nz-form-item"),b.Ob(7,"nz-form-label",1),b.rc(8,"\u5f53\u524d\u4ef7\u683c"),b.Nb(),b.Ob(9,"nz-form-control",2),b.Ob(10,"nz-input-number",4),b.Wb("ngModelChange",(function(n){return t.currentPrice=n})),b.Nb(),b.Nb(),b.Nb(),b.Ob(11,"nz-form-item"),b.Ob(12,"nz-form-label",1),b.rc(13,"\u7f51\u683c\u4e70\u5165\u5c01\u9876\u4ef7\u683c"),b.Nb(),b.Ob(14,"nz-form-control",2),b.Ob(15,"nz-input-number",4),b.Wb("ngModelChange",(function(n){return t.maxGridPrice=n})),b.Nb(),b.Nb(),b.Nb(),b.Ob(16,"nz-form-item"),b.Ob(17,"nz-form-label",1),b.rc(18,"\u6bcf\u683c\u5927\u5c0f"),b.Nb(),b.Ob(19,"nz-form-control",2),b.Ob(20,"nz-input-number",5),b.Wb("ngModelChange",(function(n){return t.perGrid=n})),b.Nb(),b.Nb(),b.Nb(),b.Ob(21,"nz-form-item"),b.Ob(22,"nz-form-label",1),b.rc(23,"\u9884\u8ba1\u81ea\u5f53\u524d\u4ef7\u683c\u7684\u6700\u5927\u8dcc\u5e45\uff08\u767e\u5206\u6bd4\uff09"),b.Nb(),b.Ob(24,"nz-form-control",2),b.Ob(25,"nz-input-number",5),b.Wb("ngModelChange",(function(n){return t.maxLoss=n})),b.Nb(),b.Nb(),b.Nb(),b.Ob(26,"nz-form-item"),b.Ob(27,"nz-form-label",1),b.rc(28,"\u6bcf\u7b14\u4ea4\u6613\u80a1\u6570"),b.Nb(),b.Ob(29,"nz-form-control",2),b.Ob(30,"nz-input-number",4),b.Wb("ngModelChange",(function(n){return t.buyNum=n})),b.Nb(),b.Nb(),b.Nb(),b.Kb(31,"nz-divider",6),b.Ob(32,"div",7),b.Ob(33,"label",8),b.Wb("ngModelChange",(function(n){return t.profitRun=n})),b.rc(34,"\u5229\u6da6\u5954\u8dd1"),b.Nb(),b.Ob(35,"label",8),b.Wb("ngModelChange",(function(n){return t.weightMore=n})),b.rc(36,"\u9010\u5c42\u52a0\u7801"),b.Nb(),b.Ob(37,"label",8),b.Wb("ngModelChange",(function(n){return t.allInOneGo=n})),b.rc(38,"\u4e00\u7f51\u6253\u5c3d"),b.Nb(),b.Nb(),b.pc(39,M,5,1,"nz-form-item",9),b.pc(40,x,7,3,"nz-form-item",9),b.pc(41,R,7,2,"nz-form-item",9),b.Ob(42,"div",10),b.Ob(43,"button",11),b.Wb("click",(function(){return t.calc()})),b.rc(44,"\u70b9\u51fb\u8ba1\u7b97"),b.Nb(),b.Ob(45,"button",11),b.Wb("click",(function(){return t.exportToExcel()})),b.rc(46,"\u5bfc\u51fa\u81f3exlce"),b.Nb(),b.Nb(),b.pc(47,C,1,0,"nz-spin",12),b.Nb(),b.Ob(48,"nz-table",13,14),b.Ob(50,"thead"),b.Ob(51,"tr"),b.Ob(52,"th"),b.rc(53,"\u4e0e\u57fa\u51c6\u6bd4\u8f83"),b.Nb(),b.Ob(54,"th"),b.rc(55,"\u4e70\u5165\u4ef7\u683c"),b.Nb(),b.Ob(56,"th"),b.rc(57,"\u4e70\u5165\u6570\u91cf"),b.Nb(),b.Ob(58,"th"),b.rc(59,"\u4e70\u5165\u4ef7\u683c\u5408\u8ba1"),b.Nb(),b.Ob(60,"th"),b.rc(61,"\u5356\u51fa\u4ef7\u683c"),b.Nb(),b.Ob(62,"th"),b.rc(63,"\u5356\u51fa\u6570\u91cf"),b.Nb(),b.Ob(64,"th"),b.rc(65,"\u5356\u51fa\u4ef7\u683c\u5408\u8ba1"),b.Nb(),b.pc(66,w,2,0,"th",9),b.pc(67,y,2,0,"th",9),b.pc(68,S,2,0,"th",9),b.Ob(69,"th"),b.rc(70,"\u76c8\u5229"),b.Nb(),b.Ob(71,"th"),b.rc(72,"\u76c8\u5229\u767e\u5206\u6bd4"),b.Ob(73,"span",15),b.Kb(74,"i",16),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(75,"tbody"),b.pc(76,Z,30,28,"tr",17),b.Nb(),b.Nb()),2&n){const n=b.jc(49);b.zb(5),b.ec("ngModel",t.name),b.zb(5),b.ec("ngModel",t.currentPrice),b.zb(5),b.ec("ngModel",t.maxGridPrice),b.zb(5),b.ec("nzFormatter",t.formatterPercent)("nzParser",t.parserPercent)("ngModel",t.perGrid),b.zb(5),b.ec("nzFormatter",t.formatterPercent)("nzParser",t.parserPercent)("ngModel",t.maxLoss),b.zb(5),b.ec("ngModel",t.buyNum),b.zb(3),b.ec("ngModel",t.profitRun),b.zb(2),b.ec("ngModel",t.weightMore),b.zb(2),b.ec("ngModel",t.allInOneGo),b.zb(2),b.ec("ngIf",t.profitRun),b.zb(1),b.ec("ngIf",t.profitRun),b.zb(1),b.ec("ngIf",t.profitRun),b.zb(6),b.ec("ngIf",t.loading),b.zb(1),b.ec("nzData",t.tableData)("nzShowSizeChanger",!0)("nzPageSize",50)("nzPageSizeOptions",b.fc(26,k))("nzScroll",b.fc(27,G)),b.zb(18),b.ec("ngIf",t.profitRun),b.zb(1),b.ec("ngIf",t.profitRun),b.zb(1),b.ec("ngIf",t.profitRun),b.zb(8),b.ec("ngForOf",n.data)}},directives:[c.c,o.b,c.a,o.c,o.a,a.a,O.c,O.i,O.j,l.a,u.a,f.a,h.l,s.a,d.a,N.a,m.b,m.f,m.g,m.a,m.e,z.b,g.a,m.d,h.k,p.a],pipes:[h.e],styles:[".form[_ngcontent-%COMP%]{margin-left:20%;width:60%;text-align:center}.ant-input-number[_ngcontent-%COMP%]{width:100%!important}.tips[_ngcontent-%COMP%]{margin-left:3px}.spin[_ngcontent-%COMP%]{margin-left:43%;height:30px;margin-top:30px}.buttons[_ngcontent-%COMP%]{text-align:center;float:left;margin-left:32.5%}.button[_ngcontent-%COMP%]{margin-right:5px}.divider[_ngcontent-%COMP%]{margin-left:-10%}.checkbox[_ngcontent-%COMP%]{margin-left:-20%;margin-bottom:24px}.table[_ngcontent-%COMP%]{clear:left}"]}),n})()}}]);